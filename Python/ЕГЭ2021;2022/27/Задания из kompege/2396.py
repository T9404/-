f = open('C:\\Users\\XiaoMai\\Downloads\\27_B (5).txt')
n = int(f.readline())


max_sum, min_len = 0, float('inf')

p_sum, p_len = [10**6]*16, [10**6]*16

len, sum = 0, 0

for _ in range(n):
    x = int(f.readline())
    len += 1

    if x % 2 == 0:
        sum += x

    if (sum % 16 == 0) and ((sum > max_sum) or ((sum == max_sum) and (len < min_len))):
        max_sum, min_len = sum, len

    if (p_sum[sum % 16] != 10**6):
        sum1 = sum-p_sum[sum % 16]
        if (sum1 > max_sum) or ((sum1 == max_sum) and (len-p_len[sum % 16] < min_len)):
            max_sum, min_len = sum1, len-p_len[sum % 16]

    if (sum < p_sum[sum % 16]) or ((sum == p_sum[sum % 16]) and (len < p_len[sum % 16])):
        p_sum[sum % 16] = sum
        p_len[sum % 16] = len


print(min_len)
